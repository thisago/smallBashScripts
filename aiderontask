#!/usr/bin/env bash

# Script to ask LLM via CLI about the current task

prompt="$*"
if [[ -z "$prompt" ]]; then
  echo "Usage: $0 <your question about the current task>" >&2
  exit 1
fi

# Run Aider with the constructed prompt
aider <<<"/run contextualize
y
${prompt}"
if [[ $? -ne 0 ]]; then
  echo "Aider commit failed. Please check the output above." >&2
  exit 1
fi
